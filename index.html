<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>å…¨å›½ æµ·ãƒ©ã‚¤ãƒ– Ã— æ°—è±¡åº</title>
<style>
body {
  font-family: sans-serif;
  background: #eef6fb;
  padding: 15px;
}
h1 { text-align: center; }
select {
  width: 100%;
  padding: 10px;
  font-size: 16px;
  margin-bottom: 10px;
}
iframe {
  width: 100%;
  height: 240px;
  border: none;
  margin-bottom: 10px;
}
.weather {
  background: white;
  padding: 12px;
  border-radius: 8px;
  margin-bottom: 10px;
}
.btn {
  display: block;
  text-align: center;
  padding: 10px;
  background: #0077cc;
  color: white;
  text-decoration: none;
  border-radius: 6px;
  font-weight: bold;
}
.note {
  font-size: 12px;
  color: #555;
  margin-top: 6px;
  text-align: center;
}
</style>
</head>
<body>

<h1>ğŸŒŠ å…¨å›½ æµ·ãƒ©ã‚¤ãƒ–ã‚«ãƒ¡ãƒ©</h1>

<select id="spot" onchange="update()">
<option value="">æµ·ã‚’é¸æŠ</option>
<option value="otaru">å°æ¨½æ¸¯ï¼ˆåŒ—æµ·é“ï¼‰</option>
<option value="kamakura">éŒå€‰ãƒ»ç”±æ¯”ãƒ¶æµœ</option>
<option value="enoshima">æ±Ÿãƒå³¶</option>
<option value="shimoda">ä¼Šè±†ãƒ»ä¸‹ç”°</option>
<option value="niigata">æ–°æ½Ÿæ¸¯</option>
<option value="tottori">é³¥å–ç ‚ä¸˜</option>
<option value="awaji">æ·¡è·¯å³¶</option>
<option value="katsurahama">æ¡‚æµœï¼ˆé«˜çŸ¥ï¼‰</option>
<option value="shikanoshima">å¿—è³€å³¶ï¼ˆç¦å²¡ï¼‰</option>
<option value="naha">é‚£è¦‡æ¸¯ï¼ˆæ²–ç¸„ï¼‰</option>
</select>

<iframe id="live"></iframe>

<div class="weather" id="weather">
å¤©æ°—æƒ…å ±ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
</div>

<a id="jmaLink" class="btn" href="#" target="_blank">
ğŸŒ¤ æ°—è±¡åºã®è©³ç´°äºˆå ±ã‚’è¦‹ã‚‹
</a>

<div class="note">
â€»è­¦å ±ãƒ»æ³¨æ„å ±ãƒ»æ´¥æ³¢æƒ…å ±ã¯å¿…ãšæ°—è±¡åºå…¬å¼ã§ç¢ºèªã—ã¦ãã ã•ã„
</div>

<script>
const spots = {
  otaru: {
    video: "https://www.youtube.com/embed/21X5lGlDOfg",
    code: "016000",
    jma: "https://www.jma.go.jp/bosai/forecast/#area_type=offices&area_code=016000"
  },
  kamakura: {
    video: "https://www.youtube.com/embed/21X5lGlDOfg",
    code: "140000",
    jma: "https://www.jma.go.jp/bosai/forecast/#area_type=offices&area_code=140000"
  },
  enoshima: {
    video: "https://www.youtube.com/embed/5qap5aO4i9A",
    code: "140000",
    jma: "https://www.jma.go.jp/bosai/forecast/#area_type=offices&area_code=140000"
  },
  shimoda: {
    video: "https://www.youtube.com/embed/drTCMJhgpSI",
    code: "220000",
    jma: "https://www.jma.go.jp/bosai/forecast/#area_type=offices&area_code=220000"
  },
  niigata: {
    video: "https://www.youtube.com/embed/21X5lGlDOfg",
    code: "150000",
    jma: "https://www.jma.go.jp/bosai/forecast/#area_type=offices&area_code=150000"
  },
  tottori: {
    video: "https://www.youtube.com/embed/drTCMJhgpSI",
    code: "310000",
    jma: "https://www.jma.go.jp/bosai/forecast/#area_type=offices&area_code=310000"
  },
  awaji: {
    video: "https://www.youtube.com/embed/6zQ1ZzqzF3I",
    code: "280000",
    jma: "https://www.jma.go.jp/bosai/forecast/#area_type=offices&area_code=280000"
  },
  katsurahama: {
    video: "https://www.youtube.com/embed/6zQ1ZzqzF3I",
    code: "390000",
    jma: "https://www.jma.go.jp/bosai/forecast/#area_type=offices&area_code=390000"
  },
  shikanoshima: {
    video: "https://www.youtube.com/embed/5qap5aO4i9A",
    code: "400000",
    jma: "https://www.jma.go.jp/bosai/forecast/#area_type=offices&area_code=400000"
  },
  naha: {
    video: "https://www.youtube.com/embed/21X5lGlDOfg",
    code: "471000",
    jma: "https://www.jma.go.jp/bosai/forecast/#area_type=offices&area_code=471000"
  }
};

function update() {
  const key = document.getElementById("spot").value;
  if (!key) return;

  const s = spots[key];
  document.getElementById("live").src = s.video;
  document.getElementById("jmaLink").href = s.jma;

  fetch(`https://www.jma.go.jp/bosai/forecast/data/forecast/${s.code}.json`)
    .then(res => res.json())
    .then(data => {
      const area = data[0].timeSeries[0].areas[0];
      document.getElementById("weather").innerHTML = `
        <strong>${area.area.name}</strong><br>
        ä»Šæ—¥ï¼š${area.weathers[0]}<br>
        æ˜æ—¥ï¼š${area.weathers[1]}
      `;
    });
}
</script>

</body>
</html>
